[
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "Yeah i looked at that but much pricier. Websocket is attractive though. Still with queuing on both sides durability is very high and while there is a bit more latency I wouldn't typically think of latency being a huge requirement for this.",
        "ts": "1479542442.002225"
    },
    {
        "type": "message",
        "user": "U04TVTLQ8",
        "text": "We push to sqs and put an empty message on sns at same time. Sns triggers a lambda which polls the queue and is also triggered by a 5 min cron job to mop up stragglers. ",
        "ts": "1479547486.002226"
    },
    {
        "type": "message",
        "user": "U04TVTLQ8",
        "text": "That way you don't get sqs latency ",
        "ts": "1479547505.002227"
    },
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "yeah i was thinking about that but isn't there cost\/efficiency benefit to having a lambda pull a batch of items off of SQS on a timing interval? Maybe not actually, I think I'm still not thinking micro enough.",
        "ts": "1479551546.002228"
    },
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "I think i'll go with your approach but I'm thinking rather than SNS why not just call another Lambda asynchronously?",
        "ts": "1479551588.002229"
    },
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "I'll send SNS once the raw data has been fully processed and updated in S3 because there might be other downstream consumers that would be interested in the final product",
        "edited": {
            "user": "U04BD6KB1",
            "ts": "1479551651.000000"
        },
        "ts": "1479551632.002230"
    },
    {
        "type": "message",
        "user": "U04TVTLQ8",
        "text": "Problem with the timing interval is it's min 5 minutes. We use the sns as an indirection so our microservices don't need to know the internals",
        "ts": "1479554831.002232"
    },
    {
        "type": "message",
        "user": "U04BE0ELZ",
        "text": "<@U04BD6KB1> nice mind node charts!, keep me in the loop please",
        "ts": "1479557578.002233"
    },
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "<@U04TVTLQ8> yeah you mean for polling purposes ... I think you've convinced me away from the polling model but rather than using SNS as the indirection you could just have a lambda function receive the API call then post to SQS and immediately following that fire-and-forget a lamba to pickup from the queue. I think that would achieve the same scalability as with SNS providing the abstraction (maybe you have the \"processing\" lambda run on 5 minutes in case there is any buildup in the queue ... there shouldn't be but real life is messy). I usually see SNS being most useful for 1:M or dynamic data consumers but at this stage there is still a data\/shaping\/aggregating lambda that need to process the data before I see SNS being used.",
        "ts": "1479563996.002234"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U04BD6KB1|ksnyde> uploaded a file: <https:\/\/emberlondon.slack.com\/files\/ksnyde\/F34NP0P5H\/2016-11-19_13-59-12.png|picture ... worth 1,000 word (or so I hear)>",
        "file": {
            "id": "F34NP0P5H",
            "created": 1479564012,
            "timestamp": 1479564012,
            "name": "2016-11-19_13-59-12.png",
            "title": "picture ... worth 1,000 word (or so I hear)",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U04BD6KB1",
            "editable": false,
            "size": 399041,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T03SSL0FF-F34NP0P5H\/2016-11-19_13-59-12.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T03SSL0FF-F34NP0P5H\/download\/2016-11-19_13-59-12.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_64.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_80.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_360.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_360_w": 360,
            "thumb_360_h": 192,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_480.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_480_w": 480,
            "thumb_480_h": 256,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_160.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_720.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_720_w": 720,
            "thumb_720_h": 384,
            "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_960.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_960_w": 960,
            "thumb_960_h": 512,
            "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F34NP0P5H-699ae39aee\/2016-11-19_13-59-12_1024.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_1024_w": 1024,
            "thumb_1024_h": 546,
            "image_exif_rotation": 1,
            "original_w": 1848,
            "original_h": 985,
            "permalink": "https:\/\/emberlondon.slack.com\/files\/ksnyde\/F34NP0P5H\/2016-11-19_13-59-12.png",
            "permalink_public": "https:\/\/slack-files.com\/T03SSL0FF-F34NP0P5H-214741564f",
            "channels": [
                "C03SSL0GP"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U04BD6KB1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U04BD6KB1|ksnyde>",
        "bot_id": null,
        "ts": "1479564016.002235"
    },
    {
        "type": "message",
        "user": "U04BE0ELZ",
        "text": "are you using smart layout with mindNode? <@U04BD6KB1>",
        "ts": "1479564869.002236"
    },
    {
        "type": "message",
        "user": "U04BE0ELZ",
        "text": "my maps tend to get way to big and linear from one root node in MindN, I might try multiple root node like you",
        "edited": {
            "user": "U04BE0ELZ",
            "ts": "1479564921.000000"
        },
        "ts": "1479564918.002237"
    },
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "<@U04BE0ELZ> depends on the layout needs. i tend to start with smart layout but as it gets more complex I may turn it off. In this case it is on.",
        "ts": "1479567246.002239"
    },
    {
        "type": "message",
        "user": "U04TVTLQ8",
        "text": "<@U04BD6KB1> The reason for polling is to pick up jobs that failed and went back on the queue ",
        "ts": "1479567252.002240"
    },
    {
        "type": "message",
        "user": "U04BD6KB1",
        "text": "correct (that was the essence of my \"the real world is messy\")",
        "ts": "1479567296.002241"
    },
    {
        "type": "message",
        "user": "U04BE0ELZ",
        "text": "cool",
        "ts": "1479567838.002242"
    }
]